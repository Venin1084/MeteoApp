<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="UTF-8">
  <link rel="shortcut icon" href="AppMetoFrontendMaterial/logoNuvoli.png" type="image/x-icon">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nuvolì</title>
  <link rel="stylesheet" href="middlePageStyle.css">
</head>

<body>
  <div class="container">
    <!-- Logo -->
    <div class="logo">
      <a href="../MiddlePage/middlePage.html">
        <img src="AppMetoFrontendMaterial/logoNuvoli.png" alt="Logo Nuvoli" />
      </a>
      <h2 class="nameBrand" data-translate-key="nuvoliBrandMiddle">NUVOLÌ</h2>
    </div>

    <!-- Sidebar Contatti -->
    <div class="off-screen-menu">
      <div class="contatti">
        <h2 class="sidebarTitle" data-translate-key="contactUsTitle">Contattaci</h2>
        <div class="form-element"><input type="text" placeholder="Nome" data-translate-key="nameContactPlaceholder" />
        </div>
        <div class="form-element"><input type="email" placeholder="Email"
            data-translate-key="emailContactPlaceholder" /></div>
        <div class="form-element"><textarea placeholder="Messaggio"
            data-translate-key="messageContactPlaceholder"></textarea></div>
        <div class="form-element"><button class="btn-form" data-translate-key="sendButton">Invia</button></div>
      </div>
    </div>

    <!-- Navbar Icone e Hamburger -->
    <nav>
      <div class="elemetini">
        <div class="darkMode-container">

          <!-- Icona per modalità -->
          <!-- Sostituisci il vecchio pulsante con questo -->
          <button id="toggleTheme" aria-label="Toggle dark mode" class="theme-toggle">
            <img src="AppMetoFrontendMaterial/Ref/icone/icons8-non-disturbare-2-100.png" alt="Dark mode" id="themeIcon"
              class="theme-icon" data-translate-key="darkModeAlt">
          </button>
        </div>
        <div class="icona-container">
          <a href="../index.html">
            <img class="iconaUser" src="AppMetoFrontendMaterial/Ref/icone/iconaUser.png" alt="Esci" data-translate-key="exitAlt" />
          </a>
          <div class="tooltip" data-translate-key="exitTooltip">Esci</div>
        </div>
        <div class="ham-menu">
          <span></span><span></span><span></span>
        </div>
      </div>
    </nav>
  </div>

  <!-- Barra di ricerca città -->
  <div class="search-wrapper">
    <input type="text" id="city" placeholder="Inserisci città..." autocomplete="off" data-translate-key="citySearchPlaceholder" />
    <img src="AppMetoFrontendMaterial/Ref/icone/iconaLente.png" class="search-icon" alt="search" data-translate-key="searchIconAlt" />
    <div id="suggerimenti" class="suggestions-box"></div>
  </div>



  <!-- Cards delle città -->
  <div class="cities-grid">
    <div class="city-card" data-city="Torino">
      <div class="city-header">
        <div class="city-info">
          <span class="region">Piemonte</span>
          <h3 class="city-name">Torino</h3>
          <span class="country">Italia</span>
        </div>
        <div class="weather-icon">
          <img src="AppMetoFrontendMaterial/iconeAnimate/alba.gif" alt="Meteo nuvoloso"
            style="width: 50px; height: 50px;">
        </div>
      </div>
      <a class="select-btn btn" href="#" data-translate-key="selectButton">Seleziona</a>
    </div>

    <div class="city-card" data-city="Milano">
      <div class="city-header">
        <div class="city-info">
          <span class="region">Lombardia</span>
          <h3 class="city-name">Milano</h3>
          <span class="country">Italia</span>
        </div>
        <div class="weather-icon">
          <img src="AppMetoFrontendMaterial/iconeAnimate/grandine.gif" alt="Meteo nuvoloso"
            style="width: 50px; height: 50px;">
        </div>
      </div>
      <a class="select-btn btn" href="#" data-translate-key="selectButton">Seleziona</a>
    </div>

    <div class="city-card" data-city="Palermo">
      <div class="city-header">
        <div class="city-info">
          <span class="region">Sicilia</span>
          <h3 class="city-name">Palermo</h3>
          <span class="country">Italia</span>
        </div>
        <div class="weather-icon">
          <img src="AppMetoFrontendMaterial/iconeAnimate/pioggia.gif" alt="Meteo nuvoloso"
            style="width: 50px; height: 50px;">
        </div>
      </div>
      <a class="select-btn btn" href="#" data-translate-key="selectButton">Seleziona</a>
    </div>

    <div class="city-card" data-city="Courmayeur">
      <div class="city-header">
        <div class="city-info">
          <span class="region">Valle d'Aosta</span>
          <h3 class="city-name">Courmayeur</h3>
          <span class="country">Italia</span>
        </div>
        <div class="weather-icon">
          <img src="AppMetoFrontendMaterial/iconeAnimate/vento.gif" alt="Meteo nuvoloso"
            style="width: 50px; height: 50px;">
        </div>
      </div>
      <a class="select-btn btn" href="#" data-translate-key="selectButton">Seleziona</a>
    </div>
  </div>

  <script>

    const translations = {
      it: {
        homeTitle: 'Nuvolì',
        nuvoliBrandMiddle: 'NUVOLÌ',
        contactUsTitle: 'Contattaci',
        nameContactPlaceholder: 'Nome',
        emailContactPlaceholder: 'Email',
        messageContactPlaceholder: 'Messaggio',
        sendButton: 'Invia',
        darkModeAlt: 'Dark mode',
        exitAlt: 'Esci',
        exitTooltip: 'Esci',
        citySearchPlaceholder: 'Inserisci città...',
        searchIconAlt: 'cerca',
        selectButton: 'Seleziona',
        langItalian: 'Italiano',
        langEnglish: 'English',
        langFrench: 'Français',
        langArabic: 'العربية',
        langAlbanian: 'Shqip',
        // chiavi
      },
      en: {
        homeTitle: 'Nuvolì',
        nuvoliBrandMiddle: 'NUVOLÌ',
        contactUsTitle: 'Contact Us',
        nameContactPlaceholder: 'Name',
        emailContactPlaceholder: 'Email',
        messageContactPlaceholder: 'Message',
        sendButton: 'Send',
        darkModeAlt: 'Dark mode',
        exitAlt: 'Exit',
        exitTooltip: 'Exit',
        citySearchPlaceholder: 'Enter city...',
        searchIconAlt: 'search',
        selectButton: 'Select',
        langItalian: 'Italiano',
        langEnglish: 'English',
        langFrench: 'Français',
        langArabic: 'العربية',
        langAlbanian: 'Shqip',

      },
      fr: {
        homeTitle: 'Nuvolì',
        nuvoliBrandMiddle: 'NUVOLÌ',
        contactUsTitle: 'Contactez-nous',
        nameContactPlaceholder: 'Nom',
        emailContactPlaceholder: 'Email',
        messageContactPlaceholder: 'Message',
        sendButton: 'Envoyer',
        darkModeAlt: 'Mode sombre',
        exitAlt: 'Sortir',
        exitTooltip: 'Sortir',
        citySearchPlaceholder: 'Entrez la ville...',
        searchIconAlt: 'chercher',
        selectButton: 'Sélectionner',
        langItalian: 'Italiano',
        langEnglish: 'English',
        langFrench: 'Français',
        langArabic: 'العربية',
        langAlbanian: 'Shqip',

      },
      ar: {
        homeTitle: 'نوفولي',
        nuvoliBrandMiddle: 'نوفولي',
        contactUsTitle: 'تواصل معنا',
        nameContactPlaceholder: 'الاسم',
        emailContactPlaceholder: 'البريد الإلكتروني',
        messageContactPlaceholder: 'الرسالة',
        sendButton: 'إرسال',
        darkModeAlt: 'الوضع الداكن',
        exitAlt: 'خروج',
        exitTooltip: 'خروج',
        citySearchPlaceholder: 'أدخل المدينة...',
        searchIconAlt: 'بحث',
        selectButton: 'اختر',
        langItalian: 'Italiano',
        langEnglish: 'English',
        langFrench: 'Français',
        langArabic: 'العربية',
        langAlbanian: 'Shqip',

      },
      sq: {
        homeTitle: 'Nuvolì',
        nuvoliBrandMiddle: 'NUVOLÌ',
        contactUsTitle: 'Na kontaktoni',
        nameContactPlaceholder: 'Emri',
        emailContactPlaceholder: 'Email',
        messageContactPlaceholder: 'Mesazhi',
        sendButton: 'Dërgo',
        darkModeAlt: 'Modaliteti i errët',
        exitAlt: 'Dil',
        exitTooltip: 'Dil',
        citySearchPlaceholder: 'Fut qytetin...',
        searchIconAlt: 'kërko',
        selectButton: 'Zgjidh',
        langItalian: 'Italiano',
        langEnglish: 'English',
        langFrench: 'Français',
        langArabic: 'العربية',
        langAlbanian: 'Shqip',

      },
      fa: {
        homeTitle: 'Nuvolì',
        nuvoliBrandMiddle: 'NUVOLÌ',
        contactUsTitle: 'Bā mā tamās begirid',
        nameContactPlaceholder: 'Gozar vazhe',
        emailContactPlaceholder: 'Email',
        messageContactPlaceholder: 'Payām',
        sendButton: 'Ersāl',
        darkModeAlt: 'Mode tarik',
        exitAlt: 'Kharej',
        exitTooltip: 'Kharej',
        citySearchPlaceholder: 'Shahr ra vared kon...',
        searchIconAlt: 'Jostoju',
        selectButton: 'Entekhab',
        langItalian: 'Italiano',
        langEnglish: 'English',
        langFrench: 'Français',
        langArabic: 'العربية',
        langAlbanian: 'Shqip',
      }
    };

    function applyTranslations(lang) {
      document.documentElement.lang = lang; //  HTML attributi
      const elements = document.querySelectorAll('[data-translate-key]');
      elements.forEach(element => {
        const key = element.getAttribute('data-translate-key');
        if (translations[lang] && translations[lang][key]) {
          if (element.tagName === 'INPUT' && element.hasAttribute('placeholder')) {
            element.setAttribute('placeholder', translations[lang][key]);
          } else if (element.tagName === 'IMG' && element.hasAttribute('alt')) {
            element.setAttribute('alt', translations[lang][key]);
          } else if (element.tagName === 'TITLE') {
            document.title = translations[lang][key];
          }
          else {
            element.textContent = translations[lang][key];
          }
        }
      });

      localStorage.setItem('selectedLanguage', lang);
    }

    document.addEventListener('DOMContentLoaded', () => {
      const savedLang = localStorage.getItem('selectedLanguage') || 'it'; // Default to Italiano
      applyTranslations(savedLang);
    });

  </script>

  <script src="middlePageJS.js"></script>

</body>

</html>